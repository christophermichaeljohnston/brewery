{% extends "base/index.html" %}
{% block content %}
<div class="container-fluid p-3">
  <div class="card card-table">
    <div class="card-header">
      Fermenters
    </div>
    <div class="card-body table-responsive">
      <table class="table table-striped table-borderless">
        <thead>
          <tr>
            <th>component</th>
            <th>name</th>
            <th>beer</th>
            <th>mode</th>
            <th>setpoint</th>
            <th>hysteresis</th>
            <th>anticycle</th>
            <th>antifight</th>
            <th>internal temperature</th>
            <th>external temperature</th>
          </tr>
        </thead>
{% if fermenter_list %}
        <tbody>
{% for fermenter in fermenter_list %}
          <tr>
            <td>{{ fermenter.component.device.device }}</td>
            <td><a class="text-secondary" href="{% url 'fermenter:detail' fermenter.id %}">{{ fermenter.name }}</a></td>
{% if fermenter.beer %}
            <td><a class="text-secondary" href="{% url 'beer:detail' fermenter.beer.id %}">{{ fermenter.beer.name }}</a></td>
{% else %}
            <td></td>
{% endif %}
            <td>{{ fermenter.get_mode_display }}</td>
            <td>{{ fermenter.setpoint }} F</td>
            <td>{{ fermenter.hysteresis }} F</td>
            <td>{{ fermenter.anticycle }} ms</td>
            <td>{{ fermenter.antifight }} ms</td>
            <td>{{ fermenter.internal_temperature}} F <small><small>({{ fermenter.datetime|timesince }} ago)</small></small></td>
            <td>{{ fermenter.external_temperature}} F <small><small>({{ fermenter.datetime|timesince }} ago)</small></small></td>
          </tr>
{% endfor %}
        </tbody>
{% endif %}
      </table>
    </div>
  </div>
</div>
{% endblock content %}
